<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Predict smolt production — smolt_func • salmonMSE</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Predict smolt production — smolt_func"><meta name="description" content="Internal function that predicts the natural origin or hatchery origin smolt production from the
escapement, and saves state variables to salmonMSE_env.
smolt_func() is the population dynamics function
makeRel_smolt() generates a list for openMSE to use in the simulations

"><meta property="og:description" content="Internal function that predicts the natural origin or hatchery origin smolt production from the
escapement, and saves state variables to salmonMSE_env.
smolt_func() is the population dynamics function
makeRel_smolt() generates a list for openMSE to use in the simulations

"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">salmonMSE</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/introduction.html">Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/example.html">Simple example</a></li>
    <li><a class="dropdown-item" href="../articles/decision-table.html">Decision table</a></li>
    <li><a class="dropdown-item" href="../articles/example-multi.html">Multi-population model</a></li>
    <li><a class="dropdown-item" href="../articles/equations.html">Dynamics equations</a></li>
    <li><a class="dropdown-item" href="../articles/ref.html">Reference points</a></li>
    <li><a class="dropdown-item" href="../articles/conditioning.html">Conditioning model</a></li>
    <li><a class="dropdown-item" href="../articles/model.html">Implementation</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Blue-Matter/salmonMSE/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Predict smolt production</h1>
      <small class="dont-index">Source: <a href="https://github.com/Blue-Matter/salmonMSE/blob/master/R/Rel.R" class="external-link"><code>R/Rel.R</code></a></small>
      <div class="d-none name"><code>smolt_func.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Internal function that predicts the natural origin or hatchery origin smolt production from the
escapement, and saves state variables to <a href="salmonMSE_env.html">salmonMSE_env</a>.</p><ul><li><p><code>smolt_func()</code> is the population dynamics function</p></li>
<li><p><code>makeRel_smolt()</code> generates a list for openMSE to use in the simulations</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">smolt_func</span><span class="op">(</span></span>
<span>  <span class="va">Nage_NOS</span>,</span>
<span>  <span class="va">Nage_HOS</span>,</span>
<span>  <span class="va">Nage_stray</span>,</span>
<span>  x <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>,</span>
<span>  <span class="va">y</span>,</span>
<span>  output <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"natural"</span>, <span class="st">"hatchery"</span><span class="op">)</span>,</span>
<span>  <span class="va">s_enroute</span>,</span>
<span>  <span class="va">p_female</span>,</span>
<span>  <span class="va">fec</span>,</span>
<span>  <span class="va">SRRpars</span>,</span>
<span>  <span class="va">hatchery_args</span>,</span>
<span>  <span class="va">fitness_args</span>,</span>
<span>  <span class="va">habitat_args</span>,</span>
<span>  <span class="va">stray_args</span>,</span>
<span>  <span class="va">s</span>,</span>
<span>  <span class="va">g</span>,</span>
<span>  <span class="va">prop_LHG</span>,</span>
<span>  <span class="va">r</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">makeRel_smolt</span><span class="op">(</span></span>
<span>  p_smolt <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  s <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  <span class="va">p_natural</span>,</span>
<span>  p_hatchery <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  p_stray <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">maxage</span>,</span>
<span>  output <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"natural"</span>, <span class="st">"hatchery"</span><span class="op">)</span>,</span>
<span>  <span class="va">s_enroute</span>,</span>
<span>  <span class="va">p_female</span>,</span>
<span>  <span class="va">fec</span>,</span>
<span>  <span class="va">SRRpars</span>,</span>
<span>  <span class="va">hatchery_args</span>,</span>
<span>  <span class="va">fitness_args</span>,</span>
<span>  <span class="va">habitat_args</span>,</span>
<span>  <span class="va">stray_args</span>,</span>
<span>  <span class="va">g</span>,</span>
<span>  <span class="va">prop_LHG</span>,</span>
<span>  <span class="va">r</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-nage-nos">Nage_NOS<a class="anchor" aria-label="anchor" href="#arg-nage-nos"></a></dt>
<dd><p>Matrix <code>[n_age, n_g]</code> of natural escapement from openMSE. <code>n_g</code> is the number of life history groups (sub groups within cohorts)
that contribute to spawning.</p></dd>


<dt id="arg-nage-hos">Nage_HOS<a class="anchor" aria-label="anchor" href="#arg-nage-hos"></a></dt>
<dd><p>Matrix <code>[n_age, n_r]</code> of hatchery escapement from openMSE. <code>n_r</code> is the number of release strategies (sub groups within cohorts)
that contribute to spawning.</p></dd>


<dt id="arg-nage-stray">Nage_stray<a class="anchor" aria-label="anchor" href="#arg-nage-stray"></a></dt>
<dd><p>Matrix <code>[nage, n_stray]</code> of hatchery escapement from donor populations that will stray to the recipient population. <code>stray_args$stray_matrix</code>
determines the proportions of the donor escapement that will move to the recipient population.</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>Integer, simulation number from openMSE</p></dd>


<dt id="arg-y">y<a class="anchor" aria-label="anchor" href="#arg-y"></a></dt>
<dd><p>Integer, simulation year (including historical years)</p></dd>


<dt id="arg-output">output<a class="anchor" aria-label="anchor" href="#arg-output"></a></dt>
<dd><p>Character, whether to predict the natural origin or hatchery origin smolt production</p></dd>


<dt id="arg-s-enroute">s_enroute<a class="anchor" aria-label="anchor" href="#arg-s-enroute"></a></dt>
<dd><p>Numeric, en route survival of the escapement to the spawning grounds</p></dd>


<dt id="arg-p-female">p_female<a class="anchor" aria-label="anchor" href="#arg-p-female"></a></dt>
<dd><p>Numeric, proportion female for calculating the egg production.</p></dd>


<dt id="arg-fec">fec<a class="anchor" aria-label="anchor" href="#arg-fec"></a></dt>
<dd><p>Vector <code>[maxage]</code>. The fecundity at age schedule of spawners</p></dd>


<dt id="arg-srrpars">SRRpars<a class="anchor" aria-label="anchor" href="#arg-srrpars"></a></dt>
<dd><p>Data frame containing stock recruit parameters for natural smolt production from egg production.
Column names include: SRrel, kappa, capacity, Smax, phi</p></dd>


<dt id="arg-hatchery-args">hatchery_args<a class="anchor" aria-label="anchor" href="#arg-hatchery-args"></a></dt>
<dd><p>Named list containing various arguments controlling broodtake and hatchery production. See details below.</p></dd>


<dt id="arg-fitness-args">fitness_args<a class="anchor" aria-label="anchor" href="#arg-fitness-args"></a></dt>
<dd><p>Named list containing various arguments controlling population fitness from hatchery production.
Names include: fitness_type, omega2, theta, fitness_variance, heritability, zbar_start, fitness_floor, rel_loss</p></dd>


<dt id="arg-habitat-args">habitat_args<a class="anchor" aria-label="anchor" href="#arg-habitat-args"></a></dt>
<dd><p>Named list with arguments sontrolling freshwater life stage survival.
Names include: use_habitat (logical), Habitat (<a href="Habitat-class.html">Habitat</a> object)</p></dd>


<dt id="arg-stray-args">stray_args<a class="anchor" aria-label="anchor" href="#arg-stray-args"></a></dt>
<dd><p>Named list with arguments controlling strays in and out of the local population
Names include:</p></dd>


<dt id="arg-s">s<a class="anchor" aria-label="anchor" href="#arg-s"></a></dt>
<dd><p>Integer, salmonMSE population index. Used to report variables to <a href="salmonMSE_env.html">salmonMSE_env</a>.</p></dd>


<dt id="arg-g">g<a class="anchor" aria-label="anchor" href="#arg-g"></a></dt>
<dd><p>Integer for the life history group of natural origin fish to pass the parameter back to openMSE (if <code>output = "natural"</code>)</p></dd>


<dt id="arg-prop-lhg">prop_LHG<a class="anchor" aria-label="anchor" href="#arg-prop-lhg"></a></dt>
<dd><p>Numeric, proportion of the egg production assign to life history group <code>g</code> corresponding to <code>p_smolt</code> for the next generation (only used if <code>output = "natural"</code>)</p></dd>


<dt id="arg-r">r<a class="anchor" aria-label="anchor" href="#arg-r"></a></dt>
<dd><p>Integer for the release strategy of hatchery origin fish to pass the parameter back to openMSE (if <code>output = "hatchery"</code>)</p></dd>


<dt id="arg-p-smolt">p_smolt<a class="anchor" aria-label="anchor" href="#arg-p-smolt"></a></dt>
<dd><p>Integer, the population index for the smolt production in the openMSE model, corresponding to <code>output</code></p></dd>


<dt id="arg-p-natural">p_natural<a class="anchor" aria-label="anchor" href="#arg-p-natural"></a></dt>
<dd><p>Integer vector, the population index for the natural origin escapement in the openMSE model. Can be more than one
if spawning is from multiple life history groups</p></dd>


<dt id="arg-p-hatchery">p_hatchery<a class="anchor" aria-label="anchor" href="#arg-p-hatchery"></a></dt>
<dd><p>Integer vector, the population index for the hatchery origin escapement in the openMSE model. Can be more than one
if there are multiple release strategies. Set to <code>NULL</code> for no hatchery production</p></dd>


<dt id="arg-p-stray">p_stray<a class="anchor" aria-label="anchor" href="#arg-p-stray"></a></dt>
<dd><p>Integer vector, population index for the hatchery strays in multi-system models</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>

<ul><li><p><code>smolt_func()</code> returns a numeric for the ratio of the realized smolt production vs. the hypothetical value if there were no
hatchery, en route mortality, or habitat improvement</p></li>
<li><p><code>makeRel_smolt()</code> returns a list that is passed to openMSE as a inter-population relationship</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="hatchery-args">hatchery_args<a class="anchor" aria-label="anchor" href="#hatchery-args"></a></h2>


<p>Hatchery control parameters are included in a named list with the following arguments:</p><ul><li><p><code>egg_target</code> Numeric, target egg production for hatchery. Set to zero for no hatchery production.</p></li>
<li><p><code>ptarget_NOB</code> Numeric, the target proportion of the natural origin broodtake relative to the overall broodtake</p></li>
<li><p><code>pmax_NOB</code> Numeric, the maximum proportion of the natural origin escapement to be used as broodtake</p></li>
<li><p><code>fec_brood</code> Vector <code>[maxage]</code>. the fecundity at age schedule of broodtake to calculate the total hatchery egg production</p></li>
<li><p><code>s_yearling</code> Numeric, the survival of eggs to the smolt life stage (for yearling release)</p></li>
<li><p><code>s_subyearling</code> Numeric. the survival of eggs to subyearling life stage (for subyearling release)</p></li>
<li><p><code>p_yearling</code> Numeric, the proportion of annual releases at the yearling life stage (vs. subyearling)</p></li>
<li><p><code>phatchery</code> Numeric, the proportion of the hatchery origin escapement that return to the hatchery,
for example, by removal from spawning grounds or swim-in facilities. These fish are available for broodtake.</p></li>
<li><p><code>premove_HOS</code> Numeric, the proportion of the hatchery origin escapement to be removed from the spawning
grounds (in order to ensure a high proportion of NOS). These fish are not available for broodtake.
For example, a value less than one can represent imperfect implementation of weir removal.</p></li>
<li><p><code>s_prespawn</code> Numeric, the survival of broodtake prior to egg production. <code>1 - s_prespawn</code> is the proportion of fish
not used for hatchery purposes, e.g., mortality or other resesarch purposes. Used to back-calculate the broodtake.</p></li>
<li><p><code>gamma</code> Numeric, the relative reproductive success of hatchery origin spawners (relative to natural origin spawners)</p></li>
<li><p><code>m</code> Numeric, mark rate for selective broodtake</p></li>
</ul></div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Quang Huynh.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

