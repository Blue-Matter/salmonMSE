<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Class "Hatchery" — Hatchery-class • salmonMSE</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Class " hatchery hatchery-class><meta name="description" content="The component of the operating model that controls the hatchery management."><meta property="og:description" content="The component of the operating model that controls the hatchery management."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">salmonMSE</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/introduction.html">Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/example.html">Simple example</a></li>
    <li><a class="dropdown-item" href="../articles/decision-table.html">Decision table</a></li>
    <li><a class="dropdown-item" href="../articles/example-multi.html">Multi-population model</a></li>
    <li><a class="dropdown-item" href="../articles/equations.html">Dynamics equations</a></li>
    <li><a class="dropdown-item" href="../articles/conditioning.html">Conditioning model</a></li>
    <li><a class="dropdown-item" href="../articles/model.html">Implementation</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Blue-Matter/salmonMSE/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Class <code>"Hatchery"</code></h1>
      <small class="dont-index">Source: <a href="https://github.com/Blue-Matter/salmonMSE/blob/master/R/define-SOM.R" class="external-link"><code>R/define-SOM.R</code></a></small>
      <div class="d-none name"><code>Hatchery-class.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The component of the operating model that controls the hatchery management.</p>
    </div>


    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Various parameters can be stochastic (length <code>nsim</code>) or input as a single numeric
(value identical across all simulations).</p>
<p>A description of the fitness parameters and hatchery dynamics is available in the
<a href="https://docs.salmonmse.com/articles/equations.html#fitness-effects-on-survival">online documentation</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="slots">Slots<a class="anchor" aria-label="anchor" href="#slots"></a></h2>


<dl><dt><code>Name</code></dt>
<dd><p>Character. Identifying name</p></dd>


<dt><code>n_r</code></dt>
<dd><p>Integer. Number of release strategies, sub-groups of fish with different survival schedules. Default is one.</p></dd>


<dt><code>n_yearling</code></dt>
<dd><p>Vector length <code>n_r</code>. The number of yearlings released by release strategy. No hatchery is modeled if <code>sum(n_yearling, n_subyearling) = 0</code>.
are zero. Yearlings survival is density-independent after release. Default is zero.</p></dd>


<dt><code>n_subyearling</code></dt>
<dd><p>Vector length <code>n_r</code>. The number of subyearlings released. No hatchery is modeled if <code>sum(n_yearling, n_subyearling) = 0</code> are zero.
Subyearlings experience density-dependent survival in competition with natural origin young. Default is zero.</p></dd>


<dt><code>s_prespawn</code></dt>
<dd><p>Numeric. The survival of broodtake prior to egg production. <code>1 - s_prespawn</code> is the proportion of fish not used for hatchery purposes, e.g., mortality or other resesarch purposes.
Used to back-calculate the broodtake from <code>n_yearling</code> and <code>n_subyearling</code>. Default is 1.</p></dd>


<dt><code>s_egg_smolt</code></dt>
<dd><p>Numeric. The survival of eggs to the smolt life stage (for yearling release).
Used to back-calculate the broodtake from <code>n_yearling</code> and <code>n_subyearling</code>. Default is 1.</p></dd>


<dt><code>s_egg_subyearling</code></dt>
<dd><p>Numeric. The survival of eggs to subyearling life stage (for subyearling release).
Used to back-calculate the broodtake from <code>n_yearling</code> and <code>n_subyearling</code>. Default is 1.</p></dd>


<dt><code>brood_import</code></dt>
<dd><p>Matrix by age (length <code>maxage</code>) for the number of annual imported hatchery origin broodstock. Egg production is weighted by <code>fec_brood</code>.
To meet hatchery production target releases, imported brood and local marked brood are used indiscriminately. Default imported brood is zero.</p></dd>


<dt><code>Mjuv_HOS</code></dt>
<dd><p>Either vector by age (length <code>maxage</code>) or an array with dimension <code>[nsim, maxage, nyears+proyears, n_r]</code>.
Natural mortality of immature hatchery origin fish.
To replicate the SAR parameter of a stage-specific model, set <code>Mjuv_HOS[a] = -log(SAR)</code> for the age class prior to maturation (and zero for all other ages).</p></dd>


<dt><code>p_mature_HOS</code></dt>
<dd><p>Vector by age (length <code>maxage</code>) or an array with dimension <code>[nsim, maxage, nyears+proyears, n_r]</code> for the maturity of hatchery spawners.
Default is set equal to <code>Bio@p_mature</code> for all release strategies.</p></dd>


<dt><code>stray_external</code></dt>
<dd><p>Matrix by age (length <code>maxage</code>) and release strategy <code>n_r</code> that denotes the annual number of hatchery origin strays from other populations/systems
not included in the operating model. Default is zero. External strays are added at the escapement life stage, assumed unmarked. For multi-population models with straying within the system, see also <code>SOM@stray</code> matrix.</p></dd>


<dt><code>gamma</code></dt>
<dd><p>Numeric. The relative reproductive success of hatchery origin spawners (relative to natural origin spawners). Default is 1.</p></dd>


<dt><code>m</code></dt>
<dd><p>Numeric. The mark rate of hatchery origin fish, which affects selective broodtake and fishery retention if mark-selective fishing is utilized.
Set m = 1 for AHA compatibility with <code>ptarget_NOB</code>. Default is zero.</p></dd>


<dt><code>pmax_esc</code></dt>
<dd><p>Numeric. The maximum proportion of total escapement (after en route mortality) that could be used as broodtake. Set to 1 for AHA compatibility. Default is 0.75.</p></dd>


<dt><code>pmax_NOB</code></dt>
<dd><p>Numeric. The maximum proportion of the natural origin escapement (after en route mortality and <code>pmax_esc</code>) to be used as broodtake. If broodstock
is limited by <code>pmax_esc &lt; 1</code>, then this parameter should be 1. Default is 1.</p></dd>


<dt><code>ptarget_NOB</code></dt>
<dd><p>Numeric. The target proportion of the natural origin broodtake relative to the overall broodtake, assuming the mark rate is 1 and natural origin fish
can be identified in the hatchery. The realized proportion may be lower if there are insufficient natural origin escapement. If the mark rate &lt; 1, then
this target proportion identifies the proportion of unmarked fished in the broodtake. If mark rate = 0, then pNOB is equal to the proportion in the escapement. Default is 0.9.</p></dd>


<dt><code>phatchery</code></dt>
<dd><p>Numeric. The proportion of the hatchery origin escapement that return to the hatchery, for example, by removal from spawning grounds
or swim-in facilities. These fish are available for broodtake. The product of <code>phatchery</code> and <code>premove_HOS</code> do not
spawn in the natural environment. Default is 0.8.</p></dd>


<dt><code>premove_HOS</code></dt>
<dd><p>Numeric. The target proportion of the hatchery origin escapement to be removed from the spawning grounds (in order to
ensure a high proportion of NOS). The effective removal is discounted by the mark rate, i.e., <code>premove_HOS * m</code>.
The removed hatchery origin fish do not spawn and are not available for broodtake. A value less than one can represent
imperfect implementation of weir removal. The product of <code>phatchery</code> and <code>premove_HOS * m</code> do not
spawn in the natural environment. Default is zero.</p></dd>


<dt><code>fec_brood</code></dt>
<dd><p>Vector of length <code>maxage</code>. The fecundity schedule of broodtake to calculate the total egg production for the hatchery. If missing, uses <code>Bio@fec</code>.</p></dd>


<dt><code>fitness_type</code></dt>
<dd><p>Character vector length 2. The fitness function to apply in the natural and hatchery environment, respectively. For each, either "Ford" or "none".</p></dd>


<dt><code>theta</code></dt>
<dd><p>Vector length 2. The optimum phenotype value for the natural and hatchery environments.</p></dd>


<dt><code>rel_loss</code></dt>
<dd><p>Vector length 3. The loss in fitness apportioned among the egg, fry, and smolt life stages which reduces survival. Theoretically, the three values should sum to 1. Alternatively,
set to zero to set fitness loss to zero for that specific life stage (survival is one).</p></dd>


<dt><code>zbar_start</code></dt>
<dd><p>Vector length 2. The mean phenotype value in the natural and hatchery populations at the start of the projection. Alternatively,
an array by dimension <code>[nsim, maxage, 2]</code>, where the age slot corresponds to cohort.</p></dd>


<dt><code>fitness_variance</code></dt>
<dd><p>Numeric. The variance of the phenotypic trait. Assumed identical between the natural and hatchery environments.</p></dd>


<dt><code>selection_strength</code></dt>
<dd><p>Numeric. The ratio between the fitness standard deviation and the phenotype standard deviation.</p></dd>


<dt><code>heritability</code></dt>
<dd><p>Numeric. The heritability of the phenotypic trait. Between 0-1.</p></dd>


<dt><code>fitness_floor</code></dt>
<dd><p>Numeric. The minimum fitness value in the natural and hatchery environments, i.e., fitness cannot drop below this threshold. Default is 0.5.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="creating-object">Creating Object<a class="anchor" aria-label="anchor" href="#creating-object"></a></h2>


<p>Objects can be created by calls of the form <code>new("Hatchery")</code></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">showClass</span><span class="op">(</span><span class="st">"Hatchery"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Class "Hatchery" [package "salmonMSE"]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Slots:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Name:                Name                n_r         n_yearling</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Class:          character            numeric            numeric</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Name:       n_subyearling         s_prespawn        s_egg_smolt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Class:            numeric            numeric            numeric</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Name:   s_egg_subyearling       brood_import           Mjuv_HOS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Class:            numeric            numeric          num.array</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Name:        p_mature_HOS     stray_external              gamma</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Class:          num.array             matrix            numeric</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Name:                   m           pmax_esc           pmax_NOB</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Class:            numeric            numeric            numeric</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Name:         ptarget_NOB          phatchery        premove_HOS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Class:            numeric            numeric            numeric</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Name:           fec_brood       fitness_type              theta</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Class:            numeric          character            numeric</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Name:            rel_loss         zbar_start   fitness_variance</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Class:            numeric          num.array            numeric</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Name:  selection_strength       heritability      fitness_floor</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Class:            numeric            numeric            numeric</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Extends: "Hatchery.list"</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Quang Huynh.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

