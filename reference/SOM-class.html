<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Class "SOM" — SOM-class • salmonMSE</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Class " som som-class><meta name="description" content="An object containing all the parameters for a salmon operating model (SOM)."><meta property="og:description" content="An object containing all the parameters for a salmon operating model (SOM)."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">salmonMSE</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/introduction.html">Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/example.html">Simple example</a></li>
    <li><a class="dropdown-item" href="../articles/model.html">Implementation</a></li>
    <li><a class="dropdown-item" href="../articles/equations.html">Dynamics equations</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Blue-Matter/salmonMSE/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Class <code>"SOM"</code></h1>
      <small class="dont-index">Source: <a href="https://github.com/Blue-Matter/salmonMSE/blob/master/R/define-SOM.R" class="external-link"><code>R/define-SOM.R</code></a></small>
      <div class="d-none name"><code>SOM-class.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>An object containing all the parameters for a salmon operating model (SOM).</p>
    </div>


    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>A description of the fitness parameters and hatchery dynamics is available in the
<a href="https://docs.salmonmse.com/articles/equations.html#fitness-effects-on-survival">online documentation</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="slots">Slots<a class="anchor" aria-label="anchor" href="#slots"></a></h2>


<dl><dt><code>Name</code></dt>
<dd><p>Character. Identifying name</p></dd>


<dt><code>nyears</code></dt>
<dd><p>Integer. The number of historical years</p></dd>


<dt><code>proyears</code></dt>
<dd><p>Integer. The number of projected years</p></dd>


<dt><code>seed</code></dt>
<dd><p>Integer. A random seed to ensure users can reproduce results exactly</p></dd>


<dt><code>nsim</code></dt>
<dd><p>Integer. Number of simulations.</p></dd>


<dt><code>maxage</code></dt>
<dd><p>Integer. The maximum age of the population age structure.</p></dd>


<dt><code>p_mature</code></dt>
<dd><p>Either vector by age (length <code>maxage</code>) or an array with dimension <code>[nsim, maxage, nyears+proyears]</code>. The proportion mature by age.</p></dd>


<dt><code>SRrel</code></dt>
<dd><p>Character, stock-recruit relationship for density-dependent smolt production. Either "BH" (Beverton-Holt) or "Ricker"</p></dd>


<dt><code>capacity_smolt</code></dt>
<dd><p>Vector length <code>nsim</code>. The asymptote of the Beverton-Holt stock-recruit function, or the Ricker maximum for
density-dependent natural smolt production from fry life stage. <strong>Units of smolts.</strong></p></dd>


<dt><code>kappa</code></dt>
<dd><p>Vector length <code>nsim</code>. The compensation ratio for the stock-recruit function, a.k.a. adult productivity.
Natural per-capita production of recruits as the population approaches zero (density-independent component). <strong>Units of recruits per egg</strong>.
In stage-based models, equivalent to the product of smolt productivity (smolts per spawner) and marine survival.</p></dd>


<dt><code>Smax</code></dt>
<dd><p>Vector length <code>nsim</code>. The spawning output that maximizes smolt production in the Ricker stock-recruit function. <strong>Units of egg production.</strong></p></dd>


<dt><code>phi</code></dt>
<dd><p>Optional parameter, vector length <code>nsim</code>. Unfished egg production rate per smolt.
The <code>alpha</code> parameter of the stock-recruit function will be the ratio of <code>kappa</code> and <code>phi</code>. In stage-based models,
the product of marine survival, fecundity, and proportion female. If not provided, <code>phi</code> will be calculated from <code>Mocean_NOS</code> corresponding
to the first year.</p></dd>


<dt><code>Mocean_NOS</code></dt>
<dd><p>Either vector by age (length <code>maxage</code>) or an array with dimension <code>[nsim, maxage, nyears+proyears]</code>.
Natural mortality of immature natural origin fish.
To replicate the SAR parameter of a stage-specific model, set <code>Mocean_NOS[a] = -log(SAR)</code> where <code>a</code> is the age class prior to maturation (and zero for all other ages).</p></dd>


<dt><code>fec</code></dt>
<dd><p>Vector by age (length <code>maxage</code>). Female fecundity of natural origin spawners.</p></dd>


<dt><code>p_female</code></dt>
<dd><p>Numeric. The proportion of females in the spawning population.</p></dd>


<dt><code>capacity_smolt_improve</code></dt>
<dd><p>Numeric. The proportional change in the smolt capacity parameter in the projection period.
For example, 1.1 represents a 10 percent improvement. For the Beverton-Holt function, this increases the asymptote by 10 percent.
For the Ricker function, this increases the maximum smolt production by 10 percent.</p></dd>


<dt><code>kappa_improve</code></dt>
<dd><p>Numeric. The proportional change in the compensation ratio, i.e., changing the smolt productivity, in the projection period.
For example, 1.1 represents a 10 percent improvement.</p></dd>


<dt><code>n_yearling</code></dt>
<dd><p>Numeric. The number of yearlings released. No hatchery is modeled if both <code>n_yearling</code> and
<code>n_subyearling</code> are zero.</p></dd>


<dt><code>n_subyearling</code></dt>
<dd><p>Numeric. The number of subyearlings released. No hatchery is modeled if both <code>n_yearling</code> and
<code>n_subyearling</code> are zero.</p></dd>


<dt><code>s_prespawn</code></dt>
<dd><p>Numeric. The survival of broodtake prior to egg production. <code>1 - s_prespawn</code> is the proportion of fish not used for hatchery purposes, e.g., mortality or other resesarch purposes.
Used to back-calculate the broodtake from <code>n_yearling</code> and <code>n_subyearling</code>.</p></dd>


<dt><code>s_egg_smolt</code></dt>
<dd><p>Numeric. The survival of eggs to the smolt life stage (for yearling release).
Used to back-calculate the broodtake from <code>n_yearling</code> and <code>n_subyearling</code>.</p></dd>


<dt><code>s_egg_subyearling</code></dt>
<dd><p>Numeric. The survival of eggs to subyearling life stage (for subyearling release).
Used to back-calculate the broodtake from <code>n_yearling</code> and <code>n_subyearling</code>.</p></dd>


<dt><code>Mocean_HOS</code></dt>
<dd><p>Either vector by age (length <code>maxage</code>) or an array with dimension <code>[nsim, maxage, nyears+proyears]</code>.
Natural mortality of immature hatchery origin fish.
To replicate the SAR parameter of a stage-specific model, set <code>Mocean_HOS[a] = -log(SAR)</code> for the age class prior to maturation (and zero for all other ages).</p></dd>


<dt><code>gamma</code></dt>
<dd><p>Numeric. The relative reproductive success of hatchery origin spawners (relative to natural origin spawners).</p></dd>


<dt><code>pmax_NOB</code></dt>
<dd><p>Numeric. The maximum proportion of the natural origin escapement to be used as broodtake.</p></dd>


<dt><code>ptarget_NOB</code></dt>
<dd><p>Numeric. The target proportion of the natural origin broodtake relative to the overall broodtake.</p></dd>


<dt><code>phatchery</code></dt>
<dd><p>Numeric. The proportion of the hatchery origin escapement that return to the hatchery, for example, by removal from spawning grounds
or swim-in facilities. These fish are available for broodtake.</p></dd>


<dt><code>premove_HOS</code></dt>
<dd><p>Numeric. The proportion of the hatchery origin escapement to be removed from the spawning grounds (in order to
ensure a high proportion of NOS). These fish are not available for broodtake. For example, a value less than one can represent
imperfect implementation of weir removal.</p></dd>


<dt><code>fec_brood</code></dt>
<dd><p>Vector of length <code>maxage</code>. The fecundity schedule of broodtake to calculate the total egg production for the hatchery.</p></dd>


<dt><code>fitness_type</code></dt>
<dd><p>Character vector length 2. The fitness function to apply in the natural and hatchery environment, respectively. For each, either "Ford" or "none".</p></dd>


<dt><code>theta</code></dt>
<dd><p>Vector length 2. The optimum phenotype value for the natural and hatchery environments.</p></dd>


<dt><code>rel_loss</code></dt>
<dd><p>Vector length 3. The loss in fitness apportioned among the egg, fry, and smolt life stages. The three values should sum to 1.</p></dd>


<dt><code>zbar_start</code></dt>
<dd><p>Vector length 2. The mean phenotype value in the natural and hatchery populations at the start of the projection.</p></dd>


<dt><code>fitness_variance</code></dt>
<dd><p>Numeric. The variance of the phenotypic trait. Assumed identical between the natural and hatchery environments.</p></dd>


<dt><code>selection_strength</code></dt>
<dd><p>Numeric. The ratio between the fitness standard deviation and the phenotype standard deviation.</p></dd>


<dt><code>heritability</code></dt>
<dd><p>Numeric. The heritability of the phenotypic trait. Between 0-1.</p></dd>


<dt><code>fitness_floor</code></dt>
<dd><p>Numeric. The minimum fitness value in the natural and hatchery environments.</p></dd>


<dt><code>u_preterminal</code></dt>
<dd><p>Numeric. The exploitation rate of the immature stock in the pre-terminal fishery.</p></dd>


<dt><code>u_terminal</code></dt>
<dd><p>Numeric. The exploitation rate of the return in the terminal fishery.</p></dd>


<dt><code>m</code></dt>
<dd><p>Numeric. The mark rate of hatchery origin fish, which affects fishery selectivity. Mark-selective fishing (MSF) is implemented if <code>m &gt; 0</code>.</p></dd>


<dt><code>release_mort</code></dt>
<dd><p>Vector length 2. The proportion of released fish that die after release, in the pre-terminal and terminal fishery.
Implemented to model mark-selective fishing. Not used if <code>m = 0</code>.</p></dd>


<dt><code>vulPT</code></dt>
<dd><p>Vector length <code>maxage</code>. Vulnerability schedule (between 0-1) in the preterminal fishery.</p></dd>


<dt><code>vulT</code></dt>
<dd><p>Vector length <code>maxage</code>. Vulnerability schedule (between 0-1) in the terminal fishery.</p></dd>


<dt><code>HistSpawner</code></dt>
<dd><p>Array by <code>[nsim, maxage, nyears, 2]</code>. Spawners at age in the natural environment. For the fourth dimension, the first array corresponds
to natural origin spawners and the second array corresponds to hatchery origin spawners. <em>Optional</em></p></dd>


<dt><code>HistN</code></dt>
<dd><p>Array by <code>[nsim, maxage, nyears, 2]</code>. The abundance of immature fish at the beginning of the annual time step. For the fourth dimension, the first array corresponds
to natural origin fish and the second array corresponds to hatchery origin fish. Default assumes 1000 smolts (age-1) fish annually.</p></dd>


<dt><code>HistFPT</code></dt>
<dd><p>Vector by historical years (<code>nyears</code>) or an array by dimension <code>[nsim, nyears, 2]</code>. The instantaneous fishing mortality in the preterminal fishery.
The first array slice corresponds to F for natural origin fish and the second array slice corresponds to hatchery origin fish. Default is zero.</p></dd>


<dt><code>HistFT</code></dt>
<dd><p>Vector by historical years (<code>nyears</code>) or an array by dimension <code>[nsim, nyears, 2]</code>. The instantaneous fishing mortality in the terminal fishery.
The first array slice corresponds to F for natural origin fish and the second array slice corresponds to hatchery origin fish. Default is zero.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="objects-from-the-class">Objects from the Class<a class="anchor" aria-label="anchor" href="#objects-from-the-class"></a></h2>
    <p>Objects can be created by calls of the form
<code>new("SOM", Bio, Habitat, Hatchery, Harvest, Historical)</code>.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Quang Huynh.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

